<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Trainings</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label>Trainings</label>
              <select class="form-control" required [(ngModel)]="selectedTraining" id="training" name="training">
                <option *ngFor="let selectedTraining of trainings" [ngValue]="selectedTraining">{{selectedTraining.name}}</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label>Start Date</label>
              <input type="date" class="form-control" id="startDate" [(ngModel)]="startDate"
                     name="startDate">
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label>End Date</label>
              <input type="date" class="form-control" id="endDate" [(ngModel)]="endDate"
                     name="endDate">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <button type="button" class="btn btn-primary" [disabled]="checkAddButtonDisabled()" (click)="addTraining()">Add</button>
          </div>
        </div>
        <br/>
        <div class="panel panel-default" *ngFor="let personTraining of assignedTrainings, let i = index">
          <div class="panel-heading">
            <h4 class="panel-title">{{personTraining.training.name}} <i class="fa fa-times icon-btn-md pull-right" (click)="removeTraining(personTraining)"></i></h4>
          </div>
          <div class="panel-body">
            <p><b>Start Date:</b> {{personTraining.startDate | date: 'MM/dd/yyyy'}} <b>End Date: </b> {{personTraining.endDate | date: 'MM/dd/yyyy'}}</p>
            <table class="table table-hover table-striped table-bordered">
              <thead>
              <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Weblink</th>
                <th>Completed</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let task of personTraining.training.tasks; let i = index">
                <td>{{task.name}}</td>
                <td>{{task.description}}</td>
                <td>{{task.weblink}}</td>
                <td class="text-center">
                  <input id="task-{{task.id}}" type="checkbox"
                         [checked]="isTaskCompleted(personTraining, task)"
                         (click)="onTaskCompletedChange($event.target.checked, task, personTraining)">
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
